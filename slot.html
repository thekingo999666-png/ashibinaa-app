<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>ã‚ã—ã³ãªãã‚¹ãƒ­ãƒƒãƒˆ</title>

<style>
body {
  margin: 0;
  background: linear-gradient(#6ec6ff, #b682ff);
  font-family: "Hiragino Maru Gothic Pro", sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  height: 100vh;
  overflow: hidden;
}

h1 {
  margin-top: 15px;
  color: #000;
  font-size: 5vw;
  text-align: center;
}

/* ã‚·ãƒ¼ã‚µãƒ¼ */
.shisa {
  font-size: 14vw;
  position: absolute;
  top: 12vh;
}

.shisa.left { left: 4vw; }
.shisa.right { right: 4vw; }

/* ã‚¹ãƒ­ãƒƒãƒˆæ ï¼ˆã‚¹ãƒãƒ›å…¨ç”»é¢ç”¨ã«æ‹¡å¤§ï¼‰ */
.slot-frame {
  margin-top: 10vh;
  background: #e7f9ff;
  border: 12px solid #8b5a2b;
  border-radius: 12px;
  width: 90vw;
  height: 28vh;
  display: flex;
  justify-content: space-around;
  align-items: center;
}

/* ãƒªãƒ¼ãƒ« */
.reel {
  width: 26vw;
  height: 26vw;
  background: #fff;
  border-radius: 12px;
  border: 4px solid #444;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 13vw;
  transition: transform 0.1s linear;
}

/* ãƒœã‚¿ãƒ³ */
#spinBtn {
  margin-top: 3vh;
  padding: 2vh 8vw;
  font-size: 6vw;
  border-radius: 50px;
  background: #fff;
  border: 4px solid #444;
}

/* æ™¯å“è¡¨ç¤º */
#result {
  margin-top: 3vh;
  font-size: 6vw;
  font-weight: bold;
  color: #ffe600;
  text-shadow: 2px 2px 4px #000;
  text-align: center;
  white-space: pre-line;
}
</style>
</head>
<body>

<h1>ISHIGAKI<br>ã‚ã—ã³ãªãã€œ</h1>

<!-- ã‚·ãƒ¼ã‚µãƒ¼ -->
<div class="shisa left">ğŸ¦</div>
<div class="shisa right">ğŸ¦</div>

<!-- ã‚¹ãƒ­ãƒƒãƒˆæœ¬ä½“ -->
<div class="slot-frame">
  <div class="reel" id="reel1">ğŸ’</div>
  <div class="reel" id="reel2">ğŸ’</div>
  <div class="reel" id="reel3">ğŸ’</div>
</div>

<div id="result"></div>

<button id="spinBtn">æŠ¼ã™</button>

<script>
/* ==== å›³æŸ„ã¨æ™¯å“å†…å®¹ ==== */
const symbols = ["7ï¸âƒ£", "ğŸ…±ï¸", "ğŸ‰", "ğŸŠ", "ğŸ’", "ğŸ’£"];

const prizes = {
  "7ï¸âƒ£": "ğŸº ç”Ÿãƒ“ãƒ¼ãƒ« 1æ¯ã‚µãƒ¼ãƒ“ã‚¹ï¼",
  "ğŸ…±ï¸": "å³¶é…’ 1æ¯ã‚µãƒ¼ãƒ“ã‚¹ï¼",
  "ğŸ‰": "ã‚µãƒ¯ãƒ¼å„ç¨® 1æ¯ã‚µãƒ¼ãƒ“ã‚¹ï¼",
  "ğŸŠ": "å¼·åˆ¶å®Ÿè²»ï¼šãƒ¤ã‚¹ã¨ä¹¾æ¯ğŸŠ",
  "ğŸ’": "å¼·åˆ¶å®Ÿè²»ï¼šãƒ†ã‚­ãƒ¼ãƒ©Ã—1ğŸ’",
  "ğŸ’£": "å¼·åˆ¶å®Ÿè²»ï¼šãƒãƒ–ãƒ¼ãƒ©Ã—2ğŸ’£"
};

/* ==== ãƒˆãƒ­ãƒˆãƒ­å›è»¢ ==== */
function slowSpin(reel, finalSymbol, stopDelay) {
  return new Promise(resolve => {
    let speed = 80; // æœ€åˆã‹ã‚‰é…ã‚
    let angle = 0;
    let cycles = 0;

    const interval = setInterval(() => {
      reel.textContent = symbols[Math.floor(Math.random() * symbols.length)];
      angle += 6;
      reel.style.transform = `rotate(${angle}deg)`;

      cycles++;
      if (cycles % 18 === 0) speed += 20; // å¾ã€…ã«æ¸›é€Ÿ

      if (cycles * speed > stopDelay) {
        clearInterval(interval);
        reel.style.transform = "rotate(0deg)";
        reel.textContent = finalSymbol;
        resolve();
      }
    }, speed);
  });
}

/* ==== å›ã™ãƒœã‚¿ãƒ³ ==== */
document.getElementById("spinBtn").addEventListener("click", async () => {
  document.getElementById("result").textContent = "";

  const finalSymbol = symbols[Math.floor(Math.random() * symbols.length)];

  // å…¨ãƒªãƒ¼ãƒ«ãŒã¾ãšå›è»¢é–‹å§‹
  slowSpin(document.getElementById("reel1"), finalSymbol, 3000);
  slowSpin(document.getElementById("reel2"), finalSymbol, 4500);
  await slowSpin(document.getElementById("reel3"), finalSymbol, 6000);

  // æ™¯å“è¡¨ç¤º
  document.getElementById("result").textContent = 
    `ğŸ‰ BIG WIN!! ğŸ‰\n${prizes[finalSymbol]}`;
});
</script>

</body>
</html>