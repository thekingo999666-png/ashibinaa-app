<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ã‚ã—ã³ãªãã‚¹ãƒ­ãƒƒãƒˆ</title>

<style>
body {
  background: linear-gradient(#6ec6ff, #b682ff);
  text-align: center;
  font-family: "Hiragino Maru Gothic Pro", sans-serif;
  padding: 20px;
}

h1 {
  margin: 0;
  color: #000;
  font-size: 26px;
  font-weight: bold;
}

.slot-frame {
  margin: 20px auto;
  background: #e7f9ff;
  border: 12px solid #8b5a2b;
  border-radius: 10px;
  width: 320px;
  height: 140px;
  display: flex;
  justify-content: space-around;
  align-items: center;
}

.reel {
  width: 90px;
  height: 90px;
  background: #fff;
  border-radius: 10px;
  border: 3px solid #444;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 60px;
  transition: transform 0.1s linear;
}

#spinBtn {
  padding: 15px 40px;
  font-size: 22px;
  border-radius: 50px;
  background: #fff;
  border: 4px solid #444;
}

#result {
  font-size: 28px;
  font-weight: bold;
  margin: 15px;
  color: #ffe600;
  text-shadow: 2px 2px 4px #000;
}
</style>
</head>
<body>

<h1>ISHIGAKI<br>ã‚ã—ã³ãªãã€œ</h1>

<div class="slot-frame">
  <div class="reel" id="reel1">ğŸ’</div>
  <div class="reel" id="reel2">ğŸ’</div>
  <div class="reel" id="reel3">ğŸ’</div>
</div>

<div id="result"></div>

<button id="spinBtn">æŠ¼ã™</button>

<script>
/* ===== å›³æŸ„ï¼ˆå‡ç­‰ç¢ºç‡ï¼‰ ===== */
const symbols = ["7ï¸âƒ£", "ğŸ…±ï¸", "ğŸ‰", "ğŸŠ", "ğŸ’", "ğŸ’£"];

/* ===== ã‚†ã£ãã‚Šæ»‘ã‚‰ã‹ã«å›è»¢ã—ã¦æ­¢ã¾ã‚‹ ===== */
function smoothSpin(reel, finalSymbol, delay) {
  return new Promise(resolve => {
    let speed = 40;         // åˆé€Ÿ
    let counter = 0;

    const interval = setInterval(() => {
      // ãƒ©ãƒ³ãƒ€ãƒ çµµæŸ„ã‚’è¡¨ç¤º
      reel.textContent = symbols[Math.floor(Math.random() * symbols.length)];

      // å¾ã€…ã«æ¸›é€Ÿ
      counter++;
      if (counter % 10 === 0) speed += 20; // ç·©ã‚„ã‹ã«æ¸›é€Ÿ

      reel.style.transform = `rotate(${counter * 20}deg)`;

      // ä¸€å®šä»¥ä¸Šé…ããªã£ãŸã‚‰åœæ­¢
      if (speed >= 300) {
        clearInterval(interval);
        reel.style.transform = "rotate(0deg)";
        reel.textContent = finalSymbol; // æœ€å¾Œã«æƒãˆã‚‹
        resolve();
      }
    }, speed);
  });
}

document.getElementById("spinBtn").addEventListener("click", async () => {
  const result = document.getElementById("result");
  result.textContent = "";

  // ã™ã¹ã¦å‡ç­‰ç¢ºç‡ã§1ã¤é¸ã¶ï¼ˆå¿…ãšæƒã†ï¼‰
  const finalSymbol = symbols[Math.floor(Math.random() * symbols.length)];

  // ãƒªãƒ¼ãƒ«ã‚’é †ç•ªã«ã‚†ã£ãã‚Šå›è»¢
  await smoothSpin(document.getElementById("reel1"), finalSymbol, 0);
  await smoothSpin(document.getElementById("reel2"), finalSymbol, 200);
  await smoothSpin(document.getElementById("reel3"), finalSymbol, 400);

  result.textContent = "ğŸ‰ BIG WIN!! ğŸ‰";
});
</script>

</body>
</html>
