<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>åº—å†…ã‚ªãƒ¼ãƒ€ãƒ¼ï½œå±…é…’å±‹ã‚ã—ã³ãªã</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Hiragino Sans", "Yu Gothic", sans-serif;
      margin: 0;
      color: #f5f5f5;
      background: #111;
    }

    /* è¨€èªåˆ‡ã‚Šæ›¿ãˆ */
    .lang-jp .en { display: none; }
    .lang-en .jp { display: none; }

    header {
      background: #000;
      padding: 14px;
      text-align: center;
      font-size: 1.3rem;
      color: #ffd700;
      letter-spacing: 2px;
      border-bottom: 1px solid #333;
    }

    main {
      padding: 16px;
      max-width: 600px;
      margin: 0 auto;
    }

    .section-title {
      margin-top: 18px;
      font-size: 1.1rem;
      padding-left: 8px;
      border-left: 4px solid #ffd700;
    }

    .card {
      background: #1c1c1c;
      border: 1px solid #333;
      border-radius: 10px;
      padding: 12px;
      margin-bottom: 10px;
    }

    .card-title {
      font-size: 1rem;
      font-weight: 600;
    }

    .price {
      float: right;
      font-weight: bold;
    }

    /* é»’é‡‘ã‚«ãƒ†ã‚´ãƒª */
    .category {
      background: #000;
      color: #ffd700;
      padding: 4px 10px;
      border-radius: 6px;
      border: 1px solid #ffd700;
      display: inline-block;
      margin-bottom: 6px;
    }

    /* ã‚¿ãƒ– */
    .tabs {
      display: flex;
      gap: 8px;
      margin: 14px 0;
    }
    .tab {
      flex: 1;
      padding: 10px 0;
      text-align: center;
      border-radius: 999px;
      border: 1px solid #555;
      background: #222;
      cursor: pointer;
    }
    .tab.active {
      background: #ffd700;
      color: #000;
      font-weight: bold;
    }

    .tab-content { display: none; }
    .tab-content.active { display: block; }

    /* å¸­ãƒœã‚¿ãƒ³ */
    .seat-box {
      margin-bottom: 20px;
      text-align: center;
    }
    .seat-btn {
      background: #333;
      color: #fff;
      border: 1px solid #666;
      padding: 10px 14px;
      border-radius: 8px;
      cursor: pointer;
      margin: 6px;
      display: inline-block;
    }
    .seat-btn.active {
      background: #ffd700;
      color: #000;
      border-color: #ffd700;
    }

    /* æ³¨æ–‡ãƒœã‚¿ãƒ³ */
    .order-btn {
      width: 100%;
      padding: 12px;
      font-size: 1rem;
      background: #06c755;
      color: #fff;
      border: none;
      border-radius: 999px;
      margin-top: 20px;
      cursor: pointer;
      font-weight: bold;
    }

  </style>
</head>

<body class="lang-jp">

<header>
  <span class="jp">åº—å†…ã‚ªãƒ¼ãƒ€ãƒ¼</span>
  <span class="en">In-store Order</span>
</header>

<main>

  <!-- å¸­é¸æŠ -->
  <div class="section-title">
    <span class="jp">å¸­ç•ªå·ã‚’é¸æŠ</span>
    <span class="en">Select Your Seat</span>
  </div>

  <div class="seat-box" id="seatBox">
    <div class="seat-btn" data-seat="ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼1">C1</div>
    <div class="seat-btn" data-seat="ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼2">C2</div>
    <div class="seat-btn" data-seat="ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼3">C3</div>
    <div class="seat-btn" data-seat="ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼4">C4</div>
    <div class="seat-btn" data-seat="ãƒ†ãƒ¼ãƒ–ãƒ«1">T1</div>
    <div class="seat-btn" data-seat="ãƒ†ãƒ¼ãƒ–ãƒ«2">T2</div>
  </div>

  <script>
    // å¸­é¸æŠå‡¦ç†
    let selectedSeat = "";
    document.querySelectorAll(".seat-btn").forEach(btn => {
      btn.addEventListener("click", () => {
        document.querySelectorAll(".seat-btn").forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        selectedSeat = btn.dataset.seat;
      });
    });
  </script>

  <!-- ã‚¿ãƒ– -->
  <div class="tabs">
    <div class="tab active" data-tab="food"><span class="jp">ãƒ•ãƒ¼ãƒ‰</span><span class="en">Food</span></div>
    <div class="tab" data-tab="drink"><span class="jp">ãƒ‰ãƒªãƒ³ã‚¯</span><span class="en">Drinks</span></div>
    <div class="tab" data-tab="history"><span class="jp">å±¥æ­´</span><span class="en">History</span></div>
  </div>

  <script>
    // ã‚¿ãƒ–åˆ‡æ›¿
    const tabButtons = document.querySelectorAll(".tab");
    tabButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
        btn.classList.add("active");

        document.querySelectorAll(".tab-content").forEach(c => c.classList.remove("active"));
        document.getElementById("tab-" + btn.dataset.tab).classList.add("active");
      });
    });
  </script>

  <!-- ã“ã“ã‹ã‚‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ Partâ‘¡ ã‚’å…¥ã‚Œã‚‹ -->
<!-- ========================= -->
<!-- ãƒ•ãƒ¼ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ Partâ‘¡     -->
<!-- ========================= -->

<div id="tab-food" class="tab-content active">

  <!-- ã‚ªã‚¹ã‚¹ãƒ¡ -->
  <div class="card">
    <div class="card-title">
      <span class="jp category">ã‚ªã‚¹ã‚¹ãƒ¡</span>
      <span class="en category">Recommended</span>
    </div>
  </div>

  <div class="card"><div class="card-title">
    <span class="jp">çŸ³å£ç‰›ãƒãƒ³ãƒãƒ¼ã‚°ï¼ˆè‡ªå®¶è£½ã‚¿ãƒ¬ï¼‰</span>
    <span class="en">Ishigaki Beef Hamburg Steak</span>
    <span class="price">Â¥1600</span>
  </div></div>

  <div class="card"><div class="card-title">
    <span class="jp">å³¶ã‚‰ã£ãã‚‡é¤ƒå­</span>
    <span class="en">Shima Rakkyou Gyoza</span>
    <span class="price">Â¥600</span>
  </div></div>

  <!-- ãƒãƒ§ãƒ¡ãƒãƒ§ãƒ¡ã‚·ãƒªãƒ¼ã‚º -->
  <div class="card">
    <div class="card-title">
      <span class="jp category">ï¾ï½®ï¾’ï¾ï½®ï¾’ã‚·ãƒªãƒ¼ã‚º</span>
      <span class="en category">Chome-Chome Series</span>
    </div>
  </div>

  <div class="card"><div class="card-title"><span class="jp">ãã‚…ã†ã‚Šãƒãƒ§ãƒ¡</span><span class="en">Cucumber Chome</span><span class="price">Â¥300</span></div></div>
  <div class="card"><div class="card-title"><span class="jp">ãƒãƒ¼ã‚ºãƒãƒ§ãƒ¡</span><span class="en">Cheese Chome</span><span class="price">Â¥500</span></div></div>
  <div class="card"><div class="card-title"><span class="jp">ãƒŠã‚¹ãƒãƒ§ãƒ¡</span><span class="en">Nasu Chome</span><span class="price">Â¥600</span></div></div>
  <div class="card"><div class="card-title"><span class="jp">ã‚¸ãƒ£ã‚¬ã‚¤ãƒ¢ãƒãƒ§ãƒ¡</span><span class="en">Potato Chome</span><span class="price">Â¥500</span></div></div>

  <!-- ã•ã£ã±ã‚Šç³» -->
  <div class="card">
    <div class="card-title">
      <span class="jp category">ã•ã£ã±ã‚Šãªã‚„ã¤</span>
      <span class="en category">Refreshing Snacks</span>
    </div>
  </div>

  <div class="card"><div class="card-title"><span class="jp">å³¶ã‚‰ã£ãã‚‡</span><span class="en">Shima Rakkyou</span><span class="price">Â¥500</span></div></div>
  <div class="card"><div class="card-title"><span class="jp">æµ·ã¶ã©ã†</span><span class="en">Sea Grapes</span><span class="price">Â¥600</span></div></div>

  <!-- ãƒãƒ£ãƒ³ãƒ—ãƒ« -->
  <div class="card">
    <div class="card-title">
      <span class="jp category">ãƒãƒ£ãƒ³ãƒ—ãƒ«</span>
      <span class="en category">Champuru</span>
    </div>
  </div>

  <div class="card"><div class="card-title"><span class="jp">ã‚´ãƒ¼ãƒ¤ãƒãƒ£ãƒ³ãƒ—ãƒ«</span><span class="en">Goya Champuru</span><span class="price">Â¥800</span></div></div>
  <div class="card"><div class="card-title"><span class="jp">ã‚½ãƒ¼ãƒ¡ãƒ³ãƒãƒ£ãƒ³ãƒ—ãƒ«</span><span class="en">Somen Champuru</span><span class="price">Â¥800</span></div></div>

  <!-- ã‚·ãƒªã‚·ãƒª -->
  <div class="card">
    <div class="card-title">
      <span class="jp category">ã‚·ãƒªã‚·ãƒª</span>
      <span class="en category">Shirishiri</span>
    </div>
  </div>

  <div class="card"><div class="card-title"><span class="jp">äººå‚ã‚·ãƒªã‚·ãƒª</span><span class="en">Carrot Shirishiri</span><span class="price">Â¥600</span></div></div>

  <!-- ç‰å­ç³» -->
  <div class="card">
    <div class="card-title">
      <span class="jp category">ç‰å­</span>
      <span class="en category">Egg Dishes</span>
    </div>
  </div>

  <div class="card"><div class="card-title"><span class="jp">ãƒãƒ¼ã‚¯ç‰å­</span><span class="en">Pork & Egg</span><span class="price">Â¥700</span></div></div>

  <!-- æšã’ç‰©ï¼ˆå”æšã’ï¼‹å¤©ã·ã‚‰çµ±åˆæ¸ˆï¼‰ -->
  <div class="card">
    <div class="card-title">
      <span class="jp category">æšã’ç‰©</span>
      <span class="en category">Fried Snacks</span>
    </div>
  </div>

  <div class="card"><div class="card-title"><span class="jp">é¶ã®å”æšã’</span><span class="en">Fried Chicken</span><span class="price">Â¥600</span></div></div>
  <div class="card"><div class="card-title"><span class="jp">ã‚¿ã‚³å”æšã’</span><span class="en">Fried Octopus</span><span class="price">Â¥500</span></div></div>

  <!-- ãã°ï¼ˆå³¶ãã°ï¼‹ãã°ç³»çµ±åˆï¼‰ -->
  <div class="card">
    <div class="card-title">
      <span class="jp category">ãã°</span>
      <span class="en category">Soba</span>
    </div>
  </div>

  <div class="card"><div class="card-title"><span class="jp">ã‚½ãƒ¼ã‚­ãã°</span><span class="en">Soki Soba</span><span class="price">Â¥800</span></div></div>

  <!-- ã”é£¯ç‰©ï¼‹ãƒªã‚¾ãƒƒãƒˆçµ±åˆ -->
  <div class="card">
    <div class="card-title">
      <span class="jp category">ã”é£¯ãƒ»ãƒªã‚¾ãƒƒãƒˆ</span>
      <span class="en category">Rice / Risotto</span>
    </div>
  </div>

  <div class="card"><div class="card-title"><span class="jp">ãŒã˜ã‚…ä¸¼</span><span class="en">Gaju Rice Bowl</span><span class="price">Â¥800</span></div></div>
  <div class="card"><div class="card-title"><span class="jp">ãƒãƒ¼ã‚ºãƒªã‚¾ãƒƒãƒˆ</span><span class="en">Cheese Risotto</span><span class="price">Â¥900</span></div></div>
  <div class="card"><div class="card-title"><span class="jp">ã‚¤ã‚«å¢¨ãƒªã‚¾ãƒƒãƒˆ</span><span class="en">Squid Ink Risotto</span><span class="price">Â¥900</span></div></div>

</div>
<!-- ========================= -->
<!-- ãƒ‰ãƒªãƒ³ã‚¯ãƒ¡ãƒ‹ãƒ¥ãƒ¼ Partâ‘¢   -->
<!-- ========================= -->

<div id="tab-drink" class="tab-content">

  <div class="section-title">
    <span class="jp">ãƒ‰ãƒªãƒ³ã‚¯ãƒ¡ãƒ‹ãƒ¥ãƒ¼</span>
    <span class="en">Drink Menu</span>
  </div>

  <!-- ãƒ“ãƒ¼ãƒ« -->
  <div class="card">
    <div class="card-title">
      <span class="jp category">ãƒ“ãƒ¼ãƒ«</span>
      <span class="en category">Beer</span>
    </div>
  </div>

  <div class="card"><div class="card-title">
    <span class="jp">ç”Ÿãƒ“ãƒ¼ãƒ«</span><span class="en">Draft Beer</span><span class="price">Â¥700</span>
  </div></div>

  <div class="card"><div class="card-title">
    <span class="jp">ç“¶ãƒ“ãƒ¼ãƒ«</span><span class="en">Bottled Beer</span><span class="price">Â¥700</span>
  </div></div>

  <div class="card"><div class="card-title">
    <span class="jp">ãƒ“ã‚¢ãƒœãƒ¼ãƒ«</span><span class="en">Beer Ball</span><span class="price">Â¥600</span>
  </div></div>

  <!-- ãƒã‚¤ãƒœãƒ¼ãƒ« / ã‚¦ã‚¤ã‚¹ã‚­ãƒ¼ -->
  <div class="card">
    <div class="card-title">
      <span class="jp category">ãƒã‚¤ãƒœãƒ¼ãƒ«ãƒ»ã‚¦ã‚¤ã‚¹ã‚­ãƒ¼</span>
      <span class="en category">Highball / Whisky</span>
    </div>
  </div>

  <div class="card"><div class="card-title"><span class="jp">è§’ãƒã‚¤ãƒœãƒ¼ãƒ«</span><span class="en">Kaku Highball</span><span class="price">Â¥600</span></div></div>

  <div class="card"><div class="card-title"><span class="jp">ç¢§ï¼ˆAOï¼‰</span><span class="en">Ao Whisky</span><span class="price">Â¥850</span></div></div>

  <!-- ãƒãƒ¼ãƒœãƒ³ -->
  <div class="card">
    <div class="card-title">
      <span class="jp category">ãƒãƒ¼ãƒœãƒ³</span>
      <span class="en category">Bourbon</span>
    </div>
  </div>

  <div class="card"><div class="card-title"><span class="jp">ãƒãƒƒã‚±ãƒ³ãƒŠãƒ¼</span><span class="en">Mckenna</span><span class="price">Â¥880</span></div></div>

  <!-- ãƒ†ã‚­ãƒ¼ãƒ© & ã‚·ãƒ§ãƒƒãƒˆ çµ±åˆ -->
  <div class="card">
    <div class="card-title">
      <span class="jp category">ã‚·ãƒ§ãƒƒãƒˆãƒ»ãƒ†ã‚­ãƒ¼ãƒ©</span>
      <span class="en category">Shots & Tequila</span>
    </div>
  </div>

  <div class="card"><div class="card-title">
    <span class="jp">ãƒ¬ãƒã‚µãƒ‰1800ï¼ˆãƒ†ã‚­ãƒ¼ãƒ©ï¼‰</span><span class="en">Reposado 1800 (Tequila)</span><span class="price">Â¥1200</span>
  </div></div>

  <div class="card"><div class="card-title">
    <span class="jp">ã©ãªã‚“ï¼ˆã‚·ãƒ§ãƒƒãƒˆï¼‰</span><span class="en">Donan Shot</span><span class="price">Â¥1200</span>
  </div></div>

  <div class="card"><div class="card-title">
    <span class="jp">ãƒãƒ–é…’</span><span class="en">Habu Liquor Shot</span><span class="price">Â¥1200</span>
  </div></div>

  <div class="card"><div class="card-title">
    <span class="jp">ãƒãƒ–ãƒ¼ãƒ©</span><span class="en">Habura Shot</span><span class="price">Â¥1400</span>
  </div></div>

  <!-- ã‚«ã‚¯ãƒ†ãƒ« -->
  <div class="card">
    <div class="card-title">
      <span class="jp category">ã‚«ã‚¯ãƒ†ãƒ«</span>
      <span class="en category">Cocktails</span>
    </div>
  </div>

  <div class="card"><div class="card-title"><span class="jp">ã‚«ã‚·ã‚¹ã‚½ãƒ¼ãƒ€</span><span class="en">Cassis Soda</span><span class="price">Â¥600</span></div></div>
  <div class="card"><div class="card-title"><span class="jp">ã‚«ã‚·ã‚¹ã‚ªãƒ¬ãƒ³ã‚¸</span><span class="en">Cassis Orange</span><span class="price">Â¥600</span></div></div>
  <div class="card"><div class="card-title"><span class="jp">ãƒ”ãƒ¼ãƒã‚ªãƒ¬ãƒ³ã‚¸</span><span class="en">Peach Orange</span><span class="price">Â¥600</span></div></div>
  <div class="card"><div class="card-title"><span class="jp">ãƒ”ãƒ¼ãƒã‚¦ãƒ¼ãƒ­ãƒ³</span><span class="en">Peach Oolong</span><span class="price">Â¥600</span></div></div>

  <!-- ç„¼é… -->
  <div class="card">
    <div class="card-title">
      <span class="jp category">ç„¼é…</span>
      <span class="en category">Shochu</span>
    </div>
  </div>

  <div class="card"><div class="card-title"><span class="jp">é»’éœ§å³¶</span><span class="en">Kurokirishima</span><span class="price">Â¥550</span></div></div>
  <div class="card"><div class="card-title"><span class="jp">äºŒéšå ‚</span><span class="en">Nikaido</span><span class="price">Â¥550</span></div></div>
  <div class="card"><div class="card-title"><span class="jp">é‡‘å®®</span><span class="en">Kinmiya</span><span class="price">Â¥550</span></div></div>

  <!-- æ²–ç¸„ã®æ³¡ç››ï¼ˆæ®‹æ³¢ãƒ»èŠã®éœ²ãªã© â†’ çµ±åˆã‚«ãƒ†ã‚´ãƒªï¼‰ -->
  <div class="card">
    <div class="card-title">
      <span class="jp category">æ²–ç¸„ã®æ³¡ç››</span>
      <span class="en category">Okinawan Awamori</span>
    </div>
  </div>

  <div class="card"><div class="card-title"><span class="jp">æ®‹æ³¢ ç™½</span><span class="en">Zanpa White</span><span class="price">Â¥600</span></div></div>
  <div class="card"><div class="card-title"><span class="jp">æ®‹æ³¢ é»’</span><span class="en">Zanpa Black</span><span class="price">Â¥550</span></div></div>
  <div class="card"><div class="card-title"><span class="jp">èŠä¹‹éœ²</span><span class="en">Kikunotsuyu</span><span class="price">Â¥550</span></div></div>

  <!-- å…«é‡å±±æ³¡ç››ã‚‚çµ±åˆï¼ˆã‚«ãƒ†ã‚´ãƒªã‚’1ã¤ã«ï¼‰ -->
  <div class="card">
    <div class="card-title">
      <span class="jp category">å…«é‡å±±ã®æ³¡ç››</span>
      <span class="en category">Yaeyama Awamori</span>
    </div>
  </div>

  <div class="card"><div class="card-title"><span class="jp">è«‹ç¦</span><span class="en">Seifuku</span><span class="price">Â¥600</span></div></div>
  <div class="card"><div class="card-title"><span class="jp">å…«é‡æ³‰</span><span class="en">Yaesen</span><span class="price">Â¥600</span></div></div>
  <div class="card"><div class="card-title"><span class="jp">é»’çœŸç </span><span class="en">Black Pearl</span><span class="price">Â¥880</span></div></div>

  <!-- ã‚½ãƒ•ãƒˆãƒ‰ãƒªãƒ³ã‚¯ -->
  <div class="card">
    <div class="card-title">
      <span class="jp category">ã‚½ãƒ•ãƒˆãƒ‰ãƒªãƒ³ã‚¯</span>
      <span class="en category">Soft Drinks</span>
    </div>
  </div>

  <div class="card"><div class="card-title"><span class="jp">å„ç¨®</span><span class="en">Assorted</span><span class="price">Â¥400</span></div></div>

</div>
<!-- ========================= -->
<!-- ğŸº æ³¨æ–‡å‡¦ç†ã‚¹ã‚¯ãƒªãƒ—ãƒˆ Partâ‘£ -->
<!-- ========================= -->

<script>
// â˜… è¨€èªåˆ‡ã‚Šæ›¿ãˆ
document.getElementById("langJp").addEventListener("click", () => {
  document.body.classList.remove("lang-en");
  document.body.classList.add("lang-jp");
});
document.getElementById("langEn").addEventListener("click", () => {
  document.body.classList.remove("lang-jp");
  document.body.classList.add("lang-en");
});

// ===================================
// å¸­ç•ªå·ã®å–å¾—
// ===================================
function getSeatNumber() {
  const seat = document.querySelector("input[name='seat']:checked");
  return seat ? seat.value : "æœªé¸æŠ";
}

// ===================================
// æ³¨æ–‡ãƒªã‚¹ãƒˆã®ç®¡ç†
// ===================================
let orderList = [];

function addOrder(nameJp, nameEn, price) {
  orderList.push({ nameJp, nameEn, price });
  renderOrderList();
}

// æ³¨æ–‡ä¸€è¦§ã‚’æç”»
function renderOrderList() {
  const box = document.getElementById("orderItems");
  box.innerHTML = "";

  orderList.forEach((item, i) => {
    const div = document.createElement("div");
    div.className = "order-item";
    div.innerHTML = `
      <span>${item.nameJp}ï¼ˆÂ¥${item.price}ï¼‰</span>
      <button onclick="removeOrder(${i})">å‰Šé™¤</button>
    `;
    box.appendChild(div);
  });

  document.getElementById("totalPrice").innerText =
    orderList.reduce((sum, i) => sum + Number(i.price), 0);
}

// æ³¨æ–‡å‰Šé™¤
function removeOrder(i) {
  orderList.splice(i, 1);
  renderOrderList();
}

// ===================================
// LINEã¸é€ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”Ÿæˆï¼ˆæ—¥æœ¬èªå›ºå®šï¼‰
// ===================================
function generateOrderText() {
  const seat = getSeatNumber();
  let text = `ã€å¸­ç•ªå·ã€‘${seat}\n\nã€æ³¨æ–‡å†…å®¹ã€‘\n`;

  orderList.forEach(i => {
    text += `ãƒ»${i.nameJp}ï¼ˆÂ¥${i.price}ï¼‰\n`;
  });

  text += `\nåˆè¨ˆï¼šÂ¥${orderList.reduce((s, i) => s + Number(i.price), 0)}`;

  return encodeURIComponent(text);
}

// ===================================
// LINEé€ä¿¡
// ===================================
function sendToLine() {
  if (orderList.length === 0) {
    alert("æ³¨æ–‡ãŒã‚ã‚Šã¾ã›ã‚“");
    return;
  }

  const text = generateOrderText();
  const url = "https://line.me/R/share?text=" + text;
  window.open(url, "_blank");

  saveHistory();
}

// ===================================
// æ³¨æ–‡å±¥æ­´ä¿å­˜ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼‰
// ===================================
function saveHistory() {
  const now = new Date();
  const seat = getSeatNumber();

  const historyItem = {
    time: now.toLocaleString(),
    seat,
    items: orderList,
    total: orderList.reduce((s, i) => s + Number(i.price), 0),
  };

  let history = JSON.parse(localStorage.getItem("ashibinaa_orders") || "[]");
  history.push(historyItem);
  localStorage.setItem("ashibinaa_orders", JSON.stringify(history));

  orderList = [];
  renderOrderList();
  alert("æ³¨æ–‡ã‚’è¨˜éŒ²ã—ã¾ã—ãŸï¼");
}

// ===================================
// å±¥æ­´è¡¨ç¤º
// ===================================
function showHistory() {
  let history = JSON.parse(localStorage.getItem("ashibinaa_orders") || "[]");

  let text = "ã€æ³¨æ–‡å±¥æ­´ã€‘\n\n";
  history.forEach(h => {
    text += `â–  ${h.time}ï¼ˆå¸­ï¼š${h.seat}ï¼‰\n`;
    h.items.forEach(i => {
      text += ` - ${i.nameJp}ï¼ˆÂ¥${i.price}ï¼‰\n`;
    });
    text += ` åˆè¨ˆï¼šÂ¥${h.total}\n\n`;
  });

  alert(text);
}

</script>
<!-- ========================= -->
<!-- ğŸº æ³¨æ–‡å‡¦ç†ã‚¹ã‚¯ãƒªãƒ—ãƒˆ Partâ‘£ -->
<!-- ========================= -->

<script>
// â˜… è¨€èªåˆ‡ã‚Šæ›¿ãˆ
document.getElementById("langJp").addEventListener("click", () => {
  document.body.classList.remove("lang-en");
  document.body.classList.add("lang-jp");
});
document.getElementById("langEn").addEventListener("click", () => {
  document.body.classList.remove("lang-jp");
  document.body.classList.add("lang-en");
});

// ===================================
// å¸­ç•ªå·ã®å–å¾—
// ===================================
function getSeatNumber() {
  const seat = document.querySelector("input[name='seat']:checked");
  return seat ? seat.value : "æœªé¸æŠ";
}

// ===================================
// æ³¨æ–‡ãƒªã‚¹ãƒˆã®ç®¡ç†
// ===================================
let orderList = [];

function addOrder(nameJp, nameEn, price) {
  orderList.push({ nameJp, nameEn, price });
  renderOrderList();
}

// æ³¨æ–‡ä¸€è¦§ã‚’æç”»
function renderOrderList() {
  const box = document.getElementById("orderItems");
  box.innerHTML = "";

  orderList.forEach((item, i) => {
    const div = document.createElement("div");
    div.className = "order-item";
    div.innerHTML = `
      <span>${item.nameJp}ï¼ˆÂ¥${item.price}ï¼‰</span>
      <button onclick="removeOrder(${i})">å‰Šé™¤</button>
    `;
    box.appendChild(div);
  });

  document.getElementById("totalPrice").innerText =
    orderList.reduce((sum, i) => sum + Number(i.price), 0);
}

// æ³¨æ–‡å‰Šé™¤
function removeOrder(i) {
  orderList.splice(i, 1);
  renderOrderList();
}

// ===================================
// LINEã¸é€ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”Ÿæˆï¼ˆæ—¥æœ¬èªå›ºå®šï¼‰
// ===================================
function generateOrderText() {
  const seat = getSeatNumber();
  let text = `ã€å¸­ç•ªå·ã€‘${seat}\n\nã€æ³¨æ–‡å†…å®¹ã€‘\n`;

  orderList.forEach(i => {
    text += `ãƒ»${i.nameJp}ï¼ˆÂ¥${i.price}ï¼‰\n`;
  });

  text += `\nåˆè¨ˆï¼šÂ¥${orderList.reduce((s, i) => s + Number(i.price), 0)}`;

  return encodeURIComponent(text);
}

// ===================================
// LINEé€ä¿¡
// ===================================
function sendToLine() {
  if (orderList.length === 0) {
    alert("æ³¨æ–‡ãŒã‚ã‚Šã¾ã›ã‚“");
    return;
  }

  const text = generateOrderText();
  const url = "https://line.me/R/share?text=" + text;
  window.open(url, "_blank");

  saveHistory();
}

// ===================================
// æ³¨æ–‡å±¥æ­´ä¿å­˜ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼‰
// ===================================
function saveHistory() {
  const now = new Date();
  const seat = getSeatNumber();

  const historyItem = {
    time: now.toLocaleString(),
    seat,
    items: orderList,
    total: orderList.reduce((s, i) => s + Number(i.price), 0),
  };

  let history = JSON.parse(localStorage.getItem("ashibinaa_orders") || "[]");
  history.push(historyItem);
  localStorage.setItem("ashibinaa_orders", JSON.stringify(history));

  orderList = [];
  renderOrderList();
  alert("æ³¨æ–‡ã‚’è¨˜éŒ²ã—ã¾ã—ãŸï¼");
}

// ===================================
// å±¥æ­´è¡¨ç¤º
// ===================================
function showHistory() {
  let history = JSON.parse(localStorage.getItem("ashibinaa_orders") || "[]");

  let text = "ã€æ³¨æ–‡å±¥æ­´ã€‘\n\n";
  history.forEach(h => {
    text += `â–  ${h.time}ï¼ˆå¸­ï¼š${h.seat}ï¼‰\n`;
    h.items.forEach(i => {
      text += ` - ${i.nameJp}ï¼ˆÂ¥${i.price}ï¼‰\n`;
    });
    text += ` åˆè¨ˆï¼šÂ¥${h.total}\n\n`;
  });

  alert(text);
}

</script>
